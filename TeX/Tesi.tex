%% Definisco la classe del documento: va specificato il formato della carta,
%% le dimensioni del carattere, di cominciare i nuovi capitoli a destra e
%% fronte-retro
\documentclass[a4paper,12pt,openright,twoside,titlepage]{book}

%% Imposto l'italiano
\usepackage[english,italian]{babel}

%% Imposto l'encoding dei caratteri. Specificando utf8 posso mettere
%% direttamente le accentate senza errori
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

\usepackage{fancyhdr}

%% Formato del titolo dei capitoli
\usepackage[Lenny]{fncychap}
\ChNumVar{\fontsize{76}{80}\usefont{OT1}{pzc}{m}{n}\selectfont}
\ChTitleVar{\centering\Large\sffamily\bfseries}

%% Font (sceglierne uno)
%\usepackage{tgpagella} % TeX Gyre Pagella
%\usepackage{charter} % PSNFSS Font, in every TeX distribution
\usepackage{mathpazo} % Use the Palatino font by default

%\usepackage{lmodern} % monospace font
%\renewcommand{\ttdefault}{lmtt} % MONO Latin Modern Font % T1 encoding of cmtt font style  
%\renewcommand{\rmdefault}{lmr} % SERIF Latin Modern Font % T1 encoding of cmr font style
%\renewcommand{\sfdefault}{lmss} % SANS Latin Modern Font % T1 encoding of cmss font style

%% Imposto l'indentazione per ogni paragrafo
\usepackage{indentfirst}

%% Lettera iniziale del capitolo su più righe
\usepackage{lettrine}

%% Interlinea a 1,5
\usepackage{setspace}
\onehalfspacing % interlinea 1.5
%\singlespacing %interlinea 1
%\doublespacing % interlinea 2

%% Questo per aforismi e citazioni
\usepackage{epigraph}

%% Per inserire gli url all'interno del testo
\usepackage[hidelinks]{hyperref}

%% Per inserire codici sorgenti
\usepackage{listings}
\usepackage{xcolor}
\definecolor{light-gray}{gray}{0.80}
\addto\captionsitalian{\renewcommand{\lstlistingname}{Esempio}}

%% Elenchi puntati e affini
\usepackage{enumitem}

%% Per includere le immagini: package e path dove andare a richiamarle per nome
\usepackage{graphicx}
\graphicspath{{./figures/}}

%% Questo serve per includere le immagini dove voglio io e non dove
%% pare all'editor!
\usepackage{float}

%% Fa sì che le tabelle possano essere divise tra più pagine
\usepackage{longtable}

%% Bibliografia
\usepackage[sorting=none,style=numeric-comp,backend=bibtex]{biblatex}
\addbibresource{biblio/bibliography.bib} % Database con le citazioni

%%
%% Titolo della tesi
%%
\newcommand{\thesistitle}{Reverse Engineering di CPS con approccio blackbox}

%% Formattazioni varie
\pagestyle{fancy}\addtolength{\headwidth}{20pt}
\renewcommand{\chaptermark}[1]{\markboth{\thechapter.\ #1}{}}
\renewcommand{\sectionmark}[1]{\markright{\thesection \ #1}{}}
\cfoot{}

%%Testatine
%\rhead[\fancyplain{}{\bfseries\leftmark}]{\fancyplain{}{\bfseries\thepage}}
%\lhead[\fancyplain{}{\bfseries\thepage}]{\fancyplain{}{\bfseries\rightmark}}

%Pagine pari
\fancyhead[RE]{\bfseries\thesistitle}
\fancyhead[LE]{\bfseries\thepage}
\fancyhead[CE]{}
%\fancyfoot[LE]{\bfseries\thepage}
%\fancyfoot[CE]{}
%\fancyfoot[LE]{\textit{thesistitle}}

%Pagine dispari
\fancyhead[LO]{\bfseries\leftmark}
\fancyhead[RO]{\bfseries\thepage}
\fancyhead[CO]{}
%\fancyfoot[LO]{\bfseries\leftmark}
%\fancyfoot[CO]{}
%\fancyfoot[RO]{\textit{thesistitle}}
%\renewcommand{\footrulewidth}{0.4pt}

\fancypagestyle{plain}{%
	\fancyhf{}
	\fancyfoot[RO]{}
	\fancyfoot[LO]{}
	\renewcommand{\headrulewidth}{0pt}
	\renewcommand{\footrulewidth}{0pt}}

%% Abstract
\newcommand{\fncyblank}{\fancyhf{}}
\newenvironment{abstract}%
{\cleardoublepage\fncyblank\null\vfill\begin{center}%
	\bfseries\abstractname\end{center}}%
{\vfill\null}

%######
%% Inizio documento
%######
\begin{document}

%###### Frontespizio ######%
\begin{titlepage}
	\begin{center}
		\thispagestyle{empty}
		
		% logo
		%\includegraphics[width=0.15\textwidth]{logo_univr.png}~\\[0.5cm]
		
		% Upper part of the page. The '~' is needed because \\
		% only works if a paragraph has started.
		
		\textsc{\LARGE Università degli Studi di Verona}\\
		%\textsc{Facolt\`a di Scienze Matematiche, Fisiche e Naturali}\\[1.0cm]
		\textsc{Dipartimento di Informatica}\\[1.0cm]
		\textsc{\large Corso di Laurea Magistrale in \\ 
			INGEGNERIA E SCIENZE INFORMATICHE}\\[1.5cm]
		
		\large Tesi di Laurea Magistrale \\[1.0cm]
		% Title
		
		\hrulefill
		
		{ \Large\bfseries [PROVVISORIO] \\
			REVERSE ENGINEERING DI CPS \\ 
			CON APPROCCIO BLACKBOX \\ }
		
		\hrulefill \\[2.0cm]
		
		% Author and supervisor
		\begin{minipage}[t]{0.4\textwidth}
			\begin{flushleft} \large
				\emph{Relatore:}\\
				%Chiar.mo Prof. \\
				Prof. \textbf{Massimo \textsc{Merro}}
			\end{flushleft}
			\begin{flushleft} \large
				\emph{Correlatore:}\\
				Prof. \textbf{Severus \textsc{Piton}}
			\end{flushleft}
		\end{minipage}
		\begin{minipage}[t]{0.4\textwidth}\raggedleft
			\begin{flushright} \large
				\emph{Laureando:} \\
				\textbf{Marco \textsc{Oliani}} \\
				Matr. VR457249
			\end{flushright}
		\end{minipage}
		
		\vfill
		
		% Bottom of the page -> è la data
		{\large Anno Accademico 2022/2023}
		
	\end{center}
\end{titlepage}

\thispagestyle{empty}

%###### Aforisma ######%
\begin{titlepage}
	\thispagestyle{empty}
	\begin{flushright}
		\vspace*{40 mm}
		\small{\emph{``Gallina vecchia fa buon brodo''}\\(Valentino Rossi)}
	\end{flushright}	
	\vfill
\end{titlepage}
\thispagestyle{empty}

%###### ABSTRACT ######%
\begin{titlepage}
	\begin{abstract}
		Bla bla bla
	\end{abstract}
	\vfill
\end{titlepage}
\thispagestyle{empty}

%% Faccio partire la numerazione normale DOPO l'indice: lo stesso indice 
%% verrà numerato in numeri romani
\frontmatter
\tableofcontents
\mainmatter

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%       Inizio TESI             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%###### CAPITOLO 1 ######%
\include{Chapters/intro}

%###### CAPITOLO 2 ######%
\chapter{Altro Capitolo}
Ri-bla \cite{einstein}

\include{Chapters/test}

%###### BIBLIOGRAFIA ######%
\printbibliography[heading=bibintoc, title=Bibliografia]

%% Vecchia versione
%\begin{thebibliography}{99}
%	\addcontentsline{toc}{chapter}{Bibliografia}	
%\end{thebibliography}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%		Fine TESI				%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\end{document}